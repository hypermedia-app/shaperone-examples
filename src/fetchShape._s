import {
    TurtleLoader,
} from '@graphy/content'
import * as RDF from '@rdf-esm/dataset'

export async function loadShape() {
  const res = fetch('https://hypermedia-app.github.io/shapes/person.ttl')

  const dataset = RDF.dataset()
  await TurtleLoader.run(res, {
    data: quad => dataset.add(quad)
  });

  return clownface({ dataset })
    .node('https://hypermedia-app.github.io/shapes/person.ttl#single-default')
}

/*import fetch from '@rdfjs/fetch-lite'
import formats from '@rdf-esm/formats-common'
import * as factory from '@rdf-esm/dataset'

export async function loadShape() {
  const res = await fetch('https://hypermedia-app.github.io/shapes/person.ttl', {
    formats,
    factory,
  })
  const dataset = await res.dataset()

  return clownface({ dataset })
    .node('https://hypermedia-app.github.io/shapes/person.ttl#single-default')
}
*/